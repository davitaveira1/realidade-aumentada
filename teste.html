<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>WebAR Test</title>

  <meta http-equiv="Permissions-Policy" content="camera=(self), microphone=(self)">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />

  <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/mind-ar@1.2.5/dist/mindar-image-aframe.prod.js"></script>
</head>

<body style="margin:0; overflow:hidden;">

<button id="startAR"
  style="position:fixed; z-index:10; bottom:20px; left:50%; transform:translateX(-50%);
         padding:12px 20px; font-size:16px;">
  Iniciar AR v2
</button>

<div id="ar"></div>

<script>
  document.getElementById('startAR').onclick = () => {
    document.getElementById('startAR').remove();
    document.getElementById('ar').innerHTML = `
      <a-scene
        embedded
        vr-mode-ui="enabled:false"
        device-orientation-permission-ui="enabled:false"
        renderer="precision: mediump"
        mindar-image="imageTargetSrc: assets/targets.mind; uiScanning: yes; uiLoading: yes;">

        <a-camera
          look-controls="enabled:false"
          camera="facingMode: environment">
        </a-camera>

      </a-scene>
    `;
  };
</script>

</body>
</html>
